# Сервис "Облачное хранилище"
Сервис представляет собой REST-интерфейс для загрузки файлов и вывода списка уже загруженных файлов.
Все запросы к сервису проходят авторизацию. Сервис взаимодействует с веб-приложением (FRONT).

Приложение разработано с использованием Spring Boot.
Использован сборщик пакетов maven.
Для запуска используется docker, docker-compose.
Код покрыт unit-тестами с использованием mockito.
Добавлены интеграционные тесты с использованием testcontainers.

### 1. Запуск
Для запуска сервиса необходимо:
- выбрать порт подключения (по умолчанию он 8080);
- проверить папку resources, задать параметры подключения в файле application.properties;
- убедиться, что присутствует файл schema.sql и data.sql c кодом создания таблиц хранения данных и 
внесением в них данных (префикс паролей {noop} указан для облегчения опробации работоспособности).

Осуществление запуска сервиса возможно с помощью команды:
    
    java -jar /myapp.jar 

В терминале необходимо собрать образ на основании упакованного файла (команды clean, package для сборщика проекта Maven),
который находится в
###### target/[MoneyTransferService-0.0.1-SNAPSHOT.jar].
Команда для создания образа (Docker Desktop должен
быть запущен):
###### docker build -t myCloud:latest -t myCloud:1.0 .
Затем необходимо запустить Docker-compose.yaml. Контейнер на базе собранного образа будет запущен.

### 2. Функции и возможности
Информация о пользователях сервиса хранится в базе данных, так же как сами данные, загружаемые в облачное хранилище.

Сервис предоставляет следующие возможности:
* Вывод списка файлов.
* Добавление файла.
* Удаление файла.
* Авторизация.

### 3. Запросы
Путь запроса, общий, до добавления endpoint'а:

    http://localhost:8080/cloud         + endpoint


###### Вывод списка файлов
Endpoint пути для вывода:
    
    "/list" (GET-метод)

###### Добавление файлов

    "/file"  (POST-метод)

###### Удаление файла

    "/file"   (DELETE-метод)

###### Редактирование файла

    "/file"   (PUT-метод)

###### Скачивание файла

    "/file"   (GET-метод)

###### Авторизация

    "/login"   (POST-метод)

Происходит аутентификация пользователя. 

    "/logout"   (POST-метод)

Все последующие запросы выполняются с помощю полученного токена auth-token. Метод Post.
Пример тела запроса:
{
"login": "user@mail.ru",
"password": "123"
}
Тело ответа:
{
"auth-token": "5bc11c0c-11a3-95n7-889e-e2538fh88f87"
}